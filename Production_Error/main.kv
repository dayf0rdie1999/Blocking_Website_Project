#:import Factory kivy.factory.Factory

<SmoothButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    back_color: (1,0,1,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius

<StrokeButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    back_color: (1,0,1,1)
    border_radius: 18
    color: self.back_color
    bold: True
    canvas.before:
        Color:
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0],self.pos[1],self.size[0],self.size[1], self.border_radius)
            width: 1.5
<RV>:
    viewclass: 'SnippetView'
    SelectableRecycleBoxLayout:
        default_size: None, dp(42)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        #multiselect: True
        #touch_multiselect: True

<SnippetView>:
    canvas.before:
        Color:
            rgba: (0,0.9,.1,.3) if self.selected else(255,255,255)
        Rectangle:
            pos: self.pos
            size: self.size
    orientation: 'vertical'

    #Label:
        #text: root.name
        #text_size: root.width, None
        #size: self.texture_size
        #color: 0,0,0,1

<MainScreen>:
    subscribe: subscribe

    BoxLayout:
        canvas:
            Rectangle:
                source: "ColorFul.jpg"
                pos: self.pos
                size: self.size
        orientation: "vertical"
        padding: 10
        spacing: 20

        Label:
            text: "Website Blocker"
            font_size: '50sp'
            bold: True

        SmoothButton:
            id: subscribe
            text: "Auto-Subscription"
            back_color: (0.157,0.455,0.753,1.0)
            border_radius: [18,2,18,2]
            size_hint: 1,0.2
            bold: True
            font_size: "18sp"
            on_press:
                root.Subscribe()


        StrokeButton:
            id: Customization
            text: "Customization"
            back_color: (1,1,1,1.0)
            size_hint:1,0.2
            bold: True
            font_size: "18sp"
            on_press:
                root.manager.current =  'custom'

<CustomizationScreen>:
    website: website
    website_list: website_list

    GridLayout:
        rows: 3
        spacing: 10
        canvas:
            Rectangle:
                source: "pexels-photo-281260.jpeg"
                pos: self.pos
                size: self.size

        BoxLayout:
            orientation: "horizontal"
            size_hint: None, None
            border_radius: [18,2,18,2]
            canvas:
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: self.border_radius

            SmoothButton:
                text: "Return"
                font_size: '24sp'
                back_color: (0.157,0.455,0.753,1.0)
                border_radius: [18,2,18,2]
                bold: True
                on_press:
                    root.manager.current = 'main'

        GridLayout:
            rows: 2
            padding: 5

            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.1
                canvas:
                    Rectangle:
                        source: "ColorFul.jpg"
                        pos: self.pos
                        size: self.size

                TextInput:
                    id: website
                    text: ""
                    multiline: False

                SmoothButton:
                    text: "Search"
                    font_size: '24sp'
                    back_color: (0.157,0.455,0.753,1.0)
                    border_radius: [1,1,1,1]
                    bold: True
                    size_hint: 0.5,1
                    on_press:
                        root.Searching()

                SmoothButton:
                    text: "Update"
                    font_size: '24sp'
                    back_color: (0.25,0.25,0.25,1.0)
                    border_radius: [1,1,1,1]
                    bold: True
                    size_hint: 0.5,1
                    on_press:
                        root.update()



            RV:
                id: website_list

        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.15
            padding: 10
            spacing : 10
            canvas:
                Rectangle:
                    source: "ColorFul.jpg"
                    pos: self.pos
                    size: self.size

            SmoothButton:
                text: "Subscribe"
                back_color: (0.157,0.455,0.753,1.0)
                border_radius: [18]
                size_hint: 1,1
                on_press: root.AddingWebsite()

            StrokeButton:
                text: "Delete"
                back_color: (0.1,0.1,0.1,1.0)
                size_hint: 1,1
                on_press: root.DeletingWebsite()



































